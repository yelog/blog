---
title: '每天一个linux命令（8）: cp'
enlink: 'linux-command-8-cp'
date: 2016-12-08 16:31:43
categories:
- 运维
tags:
- linux命令
---
　　cp命令用来复制文件或者目录，是Linux系统中最常用的命令之一。一般情况下，shell会设置一个别名，在命令行下复制文件时，如果目标文件已经存在，就会询问是否覆盖，不管你是否使用-i参数。但是如果是在shell脚本中执行cp时，没有-i参数时不会询问是否覆盖。这说明命令行和shell脚本的执行方式有些不同。
<!--more -->
### 命令格式
```bash
$ cp [选项]... [-T] 源 目的
$ cp [选项]... -t 目录 源...
```
### 命令功能
　　将源文件复制至目标文件，或将多个源文件复制至目标目录。
### 命令参数
| 参数 | 描述     |
| :------------- | :------------- |
| -a,--archive  |   为每个已存在的目标文件创建备份   |
| -f, --force  |  如果目标文件无法打开则将其移除并重试(当 -n 选项存在时则不需再选此项) |
|  -i, --interactive | 覆盖前询问(使前面的 -n 选项失效)  |
|  -H |  跟随源文件中的命令行符号链接 |
|  -l, --link | 链接文件而不复制  |
|  -L, --dereference |  总是跟随符号链接 |
| -n, --no-clobber  | 不要覆盖已存在的文件(使前面的 -i 选项失效)  |
| -P, --no-dereference  |  不跟随源文件中的符号链接 |
|  -p  | 等于--preserve=模式,所有权,时间戳 |
| -R, -r, --recursive | 复制目录及目录内的所有项目 |
### 命令实例
**`例一`：复制单个文件到目标目录，文件在目标文件中存在，会询问覆盖**
```bash
# 在没有带-a参数时，两个文件的时间是不一样的。在带了-a参数时，两个文件的时间是一致的。
$ cp 1.txt test5
```
**`例二`：复制整个目录**
```bash
# 注意目标目录存在与否结果是不一样的。目标目录存在时，整个源目录被复制到目标目录里面。
$ cp -a test3 test5
```
**`例三`：复制的 log.log 建立一个连结档 log_link.log**
```bash
$ cp -s log.log log_link.log
```
```
