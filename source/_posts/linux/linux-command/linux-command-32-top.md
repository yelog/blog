---
title: '每天一个linux命令（32）: top'
enlink: 'linux-command-32-top'
date: 2017-01-01 19:31:28
categories:
- 运维
tags:
- linux命令
---
　　top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，类似于Windows的任务管理器。下面详细介绍它的使用方法。top是一个动态显示过程,即可以通过用户按键来不断刷新当前状态.如果在前台执行该命令,它将独占前台,直到用户终止该程序为止.比较准确的说,top命令提供了实时的对系统处理器的状态监视.它将显示系统中CPU最“敏感”的任务列表.该命令可以按CPU使用.内存使用和执行时间对任务进行排序；而且该命令的很多特性都可以通过交互式命令或者在个人定制文件中进行设定。
<!--more -->
### 命令格式
```bash
$ top [参数]
```
### 命令功能
　　显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等
### 命令参数
| 参数 | 描述 |
| :------------- | :------------- |
| -b | 批处理 |
| -c | 显示完整的治命令 |
| -I | 忽略失效过程 |
| -s | 保密模式 |
| -S | 累积模式 |
| -i<时间> | 设置间隔时间 |
| -u<用户名> | 指定用户名 |
| -p<进程号> | 指定进程 |
| -n<次数> | 循环显示的次数 |

### top交互命令
　　在top 命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了s 选项， 其中一些命令可能会被屏蔽。

| 参数 | 描述 |
| :------------- | :------------- |
| h | 显示帮助画面，给出一些简短的命令总结说明 |
| k | 终止一个进程。 |
| i | 忽略闲置和僵死进程。这是一个开关式命令 |
| q | 退出程序 |
| r | 重新安排一个进程的优先级别 |
| S | 切换到累计模式 |
| s | 改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成m s。输入0值则系统将不断刷新，默认值是5 s |
| f或者F | 从当前显示中添加或者删除项目 |
| o或者O | 改变显示项目的顺序 |
| l | 切换显示平均负载和启动时间信息 |
| m | 切换显示内存信息 |
| t | 切换显示进程和CPU状态信息 |
| c | 切换显示命令名称和完整命令行 |
| M | 根据驻留内存大小进行排序 |
| P | 根据CPU使用百分比大小进行排序 |
| T | 根据时间/累计时间进行排序 |
| W | 将当前设置写入~/.toprc文件中  |
### 使用实例
**`例一`：显示进程信息**
```bash
$ top
```
**top讲解**
![top命令](http://oncj6b2vl.bkt.clouddn.com/FmYyrG-z1EdQG0FMO2c3dKfc5rnA.jpg)
**其他技巧**
1. 数字`1`，可监控每个逻辑CPU的状况
2. 键盘`b`（打开/关闭加亮效果），运行状态的进程
3. 键盘`x` 打开/关闭排序列的加亮效果
4. `shift + >`或`shift + <`改变排序列

**`例二`：显示 完整命令**
```bash
$ top -c
```
**`例三`：以批处理模式显示程序信息**
```bash
$ top -b
```
**`例四`：以累积模式显示程序信息**
```bash
$ top -S
```
**`例五`：设置信息更新次数**
```bash
# 表示更新两次后终止更新显示
$ top -n 2
```
**`例六`：设置信息更新时间**
```bash
# 表示更新周期为3秒
$ top -d 3
```
**`例七`：显示指定的进程信息**
```bash
$ top -p 574
```
